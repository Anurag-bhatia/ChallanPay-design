<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challan Details - ChallanPay</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700;800&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components/user-profile.css">
    <link rel="stylesheet" href="css/components/challan-details.css">
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="nav-container container">
            <a href="index.html" class="logo"><img src="/assets/ChallanPay-FINAL 3.png" alt="ChallanPay Logo"></a>

            <!-- User Profile Section -->
            <div class="user-profile" id="userProfileBtn">
                <div class="user-avatar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="user-name" id="userName">User Name</span>
                <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>

                <!-- Dropdown Menu -->
                <div class="user-profile-dropdown" id="userProfileDropdown">
                    <a href="javascript:void(0)">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Track My Challans
                    </a>
                    <hr>
                    <a href="index.html" id="logoutBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9M16 17L21 12M21 12L16 7M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Logout
                    </a>
                </div>
            </div>
        </nav>

        <!-- Mobile Navigation -->
        <nav class="mobile-nav" aria-hidden="true">
            <div class="mobile-user-profile">
                <div class="user-avatar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="user-name" id="mobileUserName">User Name</span>
            </div>

            <div class="mobile-nav-menu">
                <a href="javascript:void(0)" class="mobile-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Track My Challans
                </a>
                <a href="index.html" class="mobile-nav-item" id="mobileLogoutBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9M16 17L21 12M21 12L16 7M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Logout
                </a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <section class="challan-details-section">
        <div class="container">
            <div class="details-header">
                <a href="status.html" class="back-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Back to Challans</span>
                </a>
            </div>

            <div class="details-container">
                <!-- Vehicle Info Card -->
            <div class="vehicle-info-section">
                <div class="vehicle-info-card">
                    <div class="vehicle-image-container">
                        <img src="assets/BLACK-CAR.png" alt="Vehicle" class="vehicle-img">
                    </div>
                    <div class="vehicle-details-grid">
                        <div class="vehicle-detail-item">
                            <span class="detail-label">Hyundai Creta</span>
                            <span class="detail-value">DL 01 AB 1234</span>
                        </div>
                    </div>
                </div>
            </div>

                <!-- Challan Details Card -->
                <div class="challan-full-card">
                    <div class="card-header">
                        <div class="card-title-section">
                            <span class="card-label">Challan Number</span>
                            <h2 class="card-title">#CH2024001</h2>
                        </div>
                        <span class="challan-badge pending-badge">Online Challan</span>
                    </div>

                    <div class="card-divider"></div>

                    <!-- Amount Section -->
                    <div class="detail-section">
                        <span class="section-label">Fine Amount</span>
                        <div class="amount-display">
                            <span class="amount-currency">â‚¹</span>
                            <span class="amount-value">2,000</span>
                        </div>
                    </div>

                    <div class="card-divider"></div>

                    <!-- Violation Details -->
                    <div class="detail-section">
                        <span class="section-label">Violation Details</span>
                        <div class="violation-details">
                            <div class="violation-item">
                                <span class="violation-text">Over Speeding</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-divider"></div>

                    <!-- Date, Location and Status -->
                    <div class="info-grid">
                        <div class="info-item">
                            <div class="info-content">
                                <span class="info-label">Issued On</span>
                                <span class="info-value">15 Jan 2024</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-content">
                                <span class="info-label">Issued At</span>
                                <span class="info-value">Connaught Place, Delhi</span>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-content">
                                <span class="info-label">Status</span>
                                <span class="status-badge pending-status">Pending</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pay Now Button -->
            </div>
        </div>
    </section>

    <script>
        // User Profile Dropdown functionality - needs to be inline to ensure it loads
        document.addEventListener('DOMContentLoaded', function() {
            // Desktop User Profile Dropdown
            const userProfileBtn = document.getElementById('userProfileBtn');
            const userProfileDropdown = document.getElementById('userProfileDropdown');

            if (userProfileBtn && userProfileDropdown) {
                userProfileBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userProfileBtn.classList.toggle('active');
                    userProfileDropdown.classList.toggle('active');
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (!userProfileBtn.contains(e.target)) {
                        userProfileBtn.classList.remove('active');
                        userProfileDropdown.classList.remove('active');
                    }
                });
            }

            // Mobile User Profile Dropdown
            const mobileUserProfileBtn = document.getElementById('mobileUserProfileBtn');
            const mobileUserProfileDropdown = document.getElementById('mobileUserProfileDropdown');

            if (mobileUserProfileBtn && mobileUserProfileDropdown) {
                mobileUserProfileBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    mobileUserProfileBtn.classList.toggle('active');
                    mobileUserProfileDropdown.classList.toggle('active');
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (!mobileUserProfileBtn.contains(e.target)) {
                        mobileUserProfileBtn.classList.remove('active');
                        mobileUserProfileDropdown.classList.remove('active');
                    }
                });
            }

            // Populate user name from sessionStorage
            const userName = sessionStorage.getItem('userName');
            if (userName) {
                const userNameElement = document.getElementById('userName');
                const mobileUserNameElement = document.getElementById('mobileUserName');

                if (userNameElement) {
                    userNameElement.textContent = userName;
                }
                if (mobileUserNameElement) {
                    mobileUserNameElement.textContent = userName;
                }
            }

            // Logout functionality
            const logoutBtn = document.getElementById('logoutBtn');
            const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');

            function handleLogout(e) {
                e.preventDefault();
                sessionStorage.removeItem('userName');
                sessionStorage.removeItem('userMobile');
                sessionStorage.removeItem('vehicleNumber');
                window.location.href = 'index.html';
            }

            if (logoutBtn) {
                logoutBtn.addEventListener('click', handleLogout);
            }
            if (mobileLogoutBtn) {
                mobileLogoutBtn.addEventListener('click', handleLogout);
            }
        });
    </script>
    <script src="js/header.js"></script>
</body>
</html>
